tinymce.PluginManager.add("stopwords", function (n, e) { n.on("focusout", function (e) { for (var t = n.getContent(), a = ["planet", "mars"], o = 0; o < a.length; o++) { var r = a[o], s = '<span style="color:#fff;background:red;">' + r + "</span>", d = (t.indexOf(r), t.lastIndexOf(r)), f = t.substr(0, d - 2).endsWith("red;"); if (!f) { var i = new RegExp(r, "g"); t = t.replace(i, s) } } tinymce.activeEditor.setContent(t) }) });